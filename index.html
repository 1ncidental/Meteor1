<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>meteor-application-template by ics-software-engineering</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">meteor-application-template</h1>
      <h2 class="project-tagline">A template for quickly starting Meteor application development</h2>
      <a href="https://github.com/ics-software-engineering/meteor-application-template" class="btn">View on GitHub</a>
      <a href="https://github.com/ics-software-engineering/meteor-application-template/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/ics-software-engineering/meteor-application-template/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <p><img src="https://raw.githubusercontent.com/ics-software-engineering/meteor-application-template/master/doc/home-page.png" alt=""></p>

<p>Meteor-application-template is a sample Meteor 1.4 application that illustrates:</p>

<ul>
<li>A standard directory layout using 'imports/' as recommended in the <a href="https://guide.meteor.com/structure.html">Meteor Guide</a> </li>
<li>A standard set of Meteor packages and example usage (FlowRouter, AutoForm, Accounts, and Semantic UI)</li>
<li>Simple authorization/authentication and use of settings files for initialization.</li>
<li>Simple quality assurance using <a href="http://eslint.org">ESLint</a> with packages to partially enforce the <a href="https://guide.meteor.com/code-style.html">Meteor Coding Standards</a> and the <a href="https://github.com/airbnb/javascript">AirBnB Javascript Style Guide</a>.</li>
</ul>

<p>The goal of this template is to help you get quickly started doing Meteor development by providing a reasonable directory structure for development and deployment, a set of common extensions to the core framework, and boilerplate code to implement basic page display, navigation, and collection manipulation.</p>

<p>To keep this codebase simple and small, some important capabilities are intentionally excluded from this template:</p>

<ul>
<li>Testing. </li>
<li>Security (meteor-application-template enables both autopublish and insecure packages)</li>
</ul>

<p>Examples of the these capabilities will be provided elsewhere.</p>

<h2>
<a id="typical-usage" class="anchor" href="#typical-usage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Typical usage</h2>

<p>First, <a href="https://www.meteor.com/install">install Meteor</a>.</p>

<p>Second, <a href="https://help.github.com/articles/create-a-repo/">create a new GitHub repository</a>, and clone it into your local workspace.</p>

<p>Third, <a href="https://github.com/ics-software-engineering/meteor-application-template/archive/master.zip">download a zip file containing a snapshot of meteor-application-template</a>.</p>

<p>Fourth, uncompress the zip file, and copy the following files and directories into your repo:</p>

<ul>
<li>app/<br>
</li>
<li>config/</li>
<li>.gitignore</li>
</ul>

<p>You don't need to copy the README.md file (you should write your own), and you don't need to copy the doc/ directory (it contains only screenshots displayed in this page of documentation.)</p>

<p>Now your local repo should contain the template. To test that everything is OK, cd into the app directory and run the application with the following two commands:</p>

<pre><code>$ meteor npm install
$ meteor --settings ../config/settings.development.json
</code></pre>

<p>If all goes well, the template application will appear at <a href="http://localhost:3000">http://localhost:3000</a>.  You can login using the credentials in <a href="https://github.com/ics-software-engineering/meteor-application-template/blob/master/config/settings.development.json">settings.development.json</a>, or else register a new account.</p>

<h2>
<a id="walkthrough" class="anchor" href="#walkthrough" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Walkthrough</h2>

<p>The following sections describe the major features of this template.</p>

<h3>
<a id="directory-structure" class="anchor" href="#directory-structure" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Directory structure</h3>

<p>The top-level directory structure is:</p>

<pre><code>app/        # holds the Meteor application sources
config/     # holds configuration files, such as settings.development.json
doc/        # holds developer documentation, user guides, etc.
.gitignore  # don't commit IntelliJ project files, node_modules, and settings.production.json
</code></pre>

<p>This structure separates documentation files (such as screenshots) and configuration files (such as the settings files) from the actual Meteor application.</p>

<p>The app/ directory has this structure:</p>

<pre><code>client/
  lib/           # holds Semantic-UI files.
  head.html      # the &lt;head&gt;
  main.js        # import all the client-side html and js files. 

imports/
  api/           # Define collection processing code (client + server side)
  startup/       # Define code to run when system starts up (client-only, server-only, both)
    both/          
    client/        
    server/        
  ui/
    layouts/     # Layouts contain common elements to all pages (i.e. menubar and footer)
    pages/       # Pages are navigated to by FlowRouter routes.
    stylesheets/ # CSS customizations, if any.

node_modules/    # managed by Meteor

public/          # static assets (like images) can go here.

server/
   main.js       # import all the server-side js files.
</code></pre>

<h3>
<a id="import-conventions" class="anchor" href="#import-conventions" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Import conventions</h3>

<p>This system adheres to the Meteor 1.4 guideline of putting all application code in the imports/ directory, and using client/main.js and server/main.js to import the code appropriate for the client and server in an appropriate order.</p>

<p>This system accomplishes client and server-side importing in a different manner than most Meteor sample applications. In this system, every imports/ subdirectory containing any Javascript or HTML files has a top-level index.js file that is responsible for importing all files in its associated directory.   </p>

<p>Then, client/main.js and server/main.js are responsible for importing all the directories containing code they need. For example, here is the contents of client/main.js:</p>

<pre><code>import '/imports/startup/client';
import '/imports/startup/both';
import '/imports/api/stuff';
import '/imports/ui/layouts';
import '/imports/ui/pages';
import '/imports/ui/stylesheets/style.css';
</code></pre>

<p>Apart from the last line that imports style.css directly, the other lines all invoke the index.js file in the specified directory.</p>

<p>We use this approach to make it more simple to understand what code is loaded and in what order, and to simplify debugging when some code or templates do not appear to be loaded.  In our approach, there are only two places to look for top-level imports: the main.js files in client/ and server/, and the index.js files in import subdirectories. </p>

<p>Note that this two-level import structure ensures that all code and templates are loaded, but does not ensure that the symbols needed in a given file are accessible.  So, for example, a symbol bound to a collection still needs to be imported into any file that references it. For example, a server startup file needs to reference the symbol "Stuff" in order to initialize the collection, so it must import the symbol Stuff:</p>

<pre><code>import { Stuff } from '../../api/stuff/stuff.js';
import { _ } from 'meteor/underscore';

/**
 * A list of Stuff to pre-fill the Collection.
 * @type {*[]}
 */
const stuffSeeds = [
  { name: 'Basket', quantity: 3 },
  { name: 'Bicycle', quantity: 2 },
];

/**
 * Initialize the Stuff collection if empty with seed data.
 */
if (Stuff.find().count() === 0) {
  _.each(stuffSeeds, function seedStuffs(stuff) {
    Stuff.insert(stuff);
  });
}
</code></pre>

<p>This strategy is not ideal for all application scenarios, but for those just starting to get comfortable with importing in Javascript, it should reduce confusion and import-related bugs.</p>

<h3>
<a id="naming-conventions" class="anchor" href="#naming-conventions" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Naming conventions</h3>

<p>This system adopts the following naming conventions:</p>

<ul>
<li>Files and directories are named in all lowercase, with words separated by hyphens. Example: accounts-config.js</li>
<li>"Global" Javascript variables (such as collections) are capitalized. Example: Stuff.</li>
<li>Other Javascript variables are camel-case. Example: stuffSeeds.</li>
<li>Templates representing pages are capitalized, with words separated by underscores. Example: Add_Stuff_Page.</li>
<li>Routes to pages are named the same as their corresponding page. Example: Add_Stuff_Page.</li>
</ul>

<h3>
<a id="preinstalled-packages" class="anchor" href="#preinstalled-packages" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Preinstalled packages</h3>

<p>This application includes a number of additional packages useful for development. Here is a recent output of <code>meteor list</code>, with base packages removed.</p>

<pre><code>accounts-password              1.3.0  Password support for accounts
accounts-ui                    1.1.9  Simple templates to add login widgets to an app
aldeed:autoform                5.8.1  Easily create forms with automatic insert and update.
aldeed:collection2             2.10.0  Automatic validation of insert/update operations on client and server.
arillo:flow-router-helpers     0.5.2  Template helpers for flow-router
autopublish                    1.0.7  (For prototyping only) Publish the entire database to all clients
check                          1.2.3  Check whether a value matches a pattern
fabienb4:autoform-semantic-ui  0.9.3  Semantic-ui template for aldeed:autoform package.
insecure                       1.0.7  (For prototyping only) Allow all database writes from the client
juliancwirko:postcss           1.1.1  Minifier for Meteor with PostCSS processing
kadira:blaze-layout            2.3.0  Layout Manager for Blaze (works well with FlowRouter)
kadira:flow-router             2.12.1  Carefully Designed Client Side Router for Meteor
less                           2.7.5  Leaner CSS language
sacha:spin                     2.3.1  Simple spinner package for Meteor
semantic:ui                    2.2.1  Official Semantic UI Integration for Meteor
useraccounts:semantic-ui       1.14.2  Accounts Templates styled for Semantic UI.
zimme:active-route             2.3.2  Active route helpers
</code></pre>

<p>In a nutshell, meteor-application-template includes support for:</p>

<ul>
<li>Forms (autoform, collection2, check, autoform-semantic-ui )</li>
<li>Accounts (accounts-ui, accounts-password and useraccounts:semantic-ui)</li>
<li>Routing (flow-router, flow-router-helpers, active-route)</li>
<li>Presentation (semantic-ui, spin)</li>
</ul>

<p>It does not provide security (both autopublish and insecure packages) remain enabled. This is intentional.</p>

<h3>
<a id="application-functionality" class="anchor" href="#application-functionality" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Application functionality</h3>

<p>The application implements a simple CRUD application for managing "Stuff", which is a Mongo Collection consisting of a name (String) and a quantity (Number). There are four pages, each implemented by a template in the imports/ui/pages directory. </p>

<h4>
<a id="home-page" class="anchor" href="#home-page" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Home page</h4>

<p>Implemented by the Home_Page template. </p>

<p><img src="https://raw.githubusercontent.com/ics-software-engineering/meteor-application-template/master/doc/home-page.png" alt=""></p>

<p>You must login to access any page other than the Home page. </p>

<h4>
<a id="list-stuff-page" class="anchor" href="#list-stuff-page" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>List Stuff page</h4>

<p>You must login to see the contents of the Stuff collection.</p>

<p><img src="https://raw.githubusercontent.com/ics-software-engineering/meteor-application-template/master/doc/list-page.png" alt=""></p>

<h4>
<a id="add-stuff-page" class="anchor" href="#add-stuff-page" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Add Stuff page</h4>

<p>You must login to add new documents to the Stuff collection.</p>

<p><img src="https://raw.githubusercontent.com/ics-software-engineering/meteor-application-template/master/doc/add-page.png" alt=""></p>

<h4>
<a id="edit-stuff-page" class="anchor" href="#edit-stuff-page" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Edit Stuff page</h4>

<p>You must login to add edit documents in the Stuff collection.</p>

<p><img src="https://raw.githubusercontent.com/ics-software-engineering/meteor-application-template/master/doc/edit-page.png" alt=""></p>

<h3>
<a id="collections" class="anchor" href="#collections" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Collections</h3>

<p>The application implements a single Collection called "Stuff". Each Stuff document has two fields: a String "name" and a Number "quantity".</p>

<p>The Stuff collection is defined in <a href="https://github.com/ics-software-engineering/meteor-application-template/blob/master/app/imports/api/stuff/stuff.js">imports/api/stuff/stuff.js</a>.</p>

<p>The Stuff collection is initialized in <a href="https://github.com/ics-software-engineering/meteor-application-template/blob/master/app/imports/startup/server/stuff.js">imports/startup/server/stuff.js</a>.</p>

<p>Note that this system uses autopublish to avoid the need to define publications and subscriptions.  That said, any templates presenting collection data must use <code>Template.subscriptionsReady</code> to ensure that subscription data is available before template rendering. See <a href="https://github.com/ics-software-engineering/meteor-application-template/blob/master/app/imports/ui/pages/list-stuff-page.html">imports/ui/pages/list-stuff-page.html</a> for an example.</p>

<h3>
<a id="css" class="anchor" href="#css" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>CSS</h3>

<p>The application uses <a href="http://semantic-ui.com/">Semantic UI</a>, and installs two Meteor packages: <code>useraccounts:semantic-ui</code> and <code>fabienb4:autoform-semantic-ui</code>.</p>

<p>The Semantic UI theme files are located in <a href="https://github.com/ics-software-engineering/meteor-application-template/tree/master/app/client/lib/semantic-ui">app/client/lib/semantic-ui</a> directory.</p>

<p>Because the application implements a menu fixed to the top of the screen, the <a href="https://github.com/ics-software-engineering/meteor-application-template/blob/master/app/imports/ui/stylesheets/style.css">app/imports/ui/stylesheets/style.css</a> file adds 61px of padding to the body. Other page templates add additional padding to improve the look. </p>

<p>If you wish to customize the Semantic UI theme, follow the instructions in <a href="https://github.com/Semantic-Org/Semantic-UI-Meteor">Semantic-UI-Meteor</a>.</p>

<h3>
<a id="routing" class="anchor" href="#routing" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Routing</h3>

<p>For display and navigation among its four pages, the application uses <a href="https://github.com/kadirahq/flow-router">Flow Router</a>.</p>

<p>Routing is defined in <a href="https://github.com/ics-software-engineering/meteor-application-template/blob/master/app/imports/startup/client/router.js">imports/startup/client/router.js</a>.</p>

<h3>
<a id="forms" class="anchor" href="#forms" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Forms</h3>

<p>To implement the Add Stuff and Edit Stuff pages, the application uses <a href="https://github.com/aldeed/meteor-autoform">AutoForm</a>.</p>

<p>To present the forms, the application uses the quickform component.  See <a href="https://github.com/ics-software-engineering/meteor-application-template/blob/master/app/imports/ui/pages/add-stuff-page.html">imports/ui/pages/add-stuff-page.html</a> and <a href="https://github.com/ics-software-engineering/meteor-application-template/blob/master/app/imports/ui/pages/edit-stuff-page.html">imports/ui/pages/edit-stuff-page.html</a>.</p>

<h3>
<a id="authentication" class="anchor" href="#authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Authentication</h3>

<p>For authentication, the application uses the Meteor accounts-ui package, with some simple customization in <a href="https://github.com/ics-software-engineering/meteor-application-template/blob/master/app/imports/startup/both/accounts-config.js">imports/startup/both/accounts-config.js</a>.</p>

<p>When the application is run for the first time, a settings file (such as <a href="https://github.com/ics-software-engineering/meteor-application-template/blob/master/config/settings.development.json">config/settings.development.json</a>) should be passed to Meteor. That will lead to a default account being created through the code in <a href="https://github.com/ics-software-engineering/meteor-application-template/blob/master/app/imports/startup/server/accounts.js">imports/startup/server/accounts.js</a>.</p>

<p>The application allows users to register and create new accounts at any time.</p>

<h3>
<a id="authorization" class="anchor" href="#authorization" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Authorization</h3>

<p>Only logged in users can manipulate Stuff documents (but any registered user can manipulate any Stuff document, even if they weren't the user that created it.)</p>

<p>To prevent users who are not logged in from accessing pages that manipulate Stuff instances, template-based authorization is used following the recommendations in <a href="https://kadira.io/academy/meteor-routing-guide/content/implementing-auth-logic-and-permissions">Implementing Auth Logic and Permissions</a>. </p>

<p>The application implements template-based authorization using an If_Logged_In template, defined in <a href="https://github.com/ics-software-engineering/meteor-application-template/blob/master/app/imports/ui/layouts/if-logged-in.html">imports/ui/layouts/if-logged-in.html</a> and <a href="https://github.com/ics-software-engineering/meteor-application-template/blob/master/app/imports/ui/layouts/if-logged-in.js">imports/ui/layouts/if-logged-in.js</a>.</p>

<h3>
<a id="configuration" class="anchor" href="#configuration" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Configuration</h3>

<p>The <a href="https://github.com/ics-software-engineering/meteor-application-template/tree/master/config">config</a> directory is intended to hold settings files.  The repository contains one file: <a href="https://github.com/ics-software-engineering/meteor-application-template/blob/master/config/settings.development.json">config/settings.development.json</a>.</p>

<p>The <a href="https://github.com/ics-software-engineering/meteor-application-template/blob/master/.gitignore">.gitignore</a> file prevents a file named settings.production.json from being committed to the repository. So, if you are deploying the application, you can put settings in a file named settings.production.json and it will not be committed.</p>

<h3>
<a id="quality-assurance" class="anchor" href="#quality-assurance" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Quality Assurance</h3>

<h4>
<a id="eslint" class="anchor" href="#eslint" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>ESLint</h4>

<p>The application includes a <a href="https://github.com/ics-software-engineering/meteor-application-template/blob/master/app/.eslintrc">.eslintrc</a> file to define the coding style adhered to in this application. You can invoke ESLint from the command line as follows:</p>

<pre><code>[~/meteor-application-template/app]-&gt; meteor npm run lint

&gt; meteor-application-template@ lint /Users/philipjohnson/meteor-application-template/app
&gt; eslint .
</code></pre>

<p>ESLint should run without generating any errors.  </p>

<p>It's significantly easier to do development with ESLint integrated directly into your IDE (such as IntelliJ).</p>

<h2>
<a id="screencast" class="anchor" href="#screencast" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Screencast</h2>

<p>Click the image below to watch a 27 minute walkthrough of this system.</p>

<p><a href="https://www.youtube.com/watch?v=kEJN3kjyugs"><img src="https://raw.githubusercontent.com/ics-software-engineering/meteor-application-template/master/doc/meteor-application-template-youtube.png" width="600"></a></p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/ics-software-engineering/meteor-application-template">meteor-application-template</a> is maintained by <a href="https://github.com/ics-software-engineering">ics-software-engineering</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
